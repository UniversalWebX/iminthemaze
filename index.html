<!DOCTYPE html>
<html>
<head>
    <title>Maze Engine Pro</title>
    <script src="/socket.io/socket.io.js"></script>
    <style>
        :root { --accent: #007acc; --bg: #121212; }
        body { background: var(--bg); color: white; font-family: sans-serif; margin: 0; overflow: hidden; }
        .tabs { display: flex; background: #000; padding: 10px 20px 0; }
        .tab { padding: 10px 20px; border: none; background: #222; color: #888; cursor: pointer; border-radius: 10px 10px 0 0; margin-right: 5px; }
        .tab.active { background: #1e1e1e; color: var(--accent); }
        .view { display: none; height: calc(100vh - 50px); }
        .view.active { display: flex; }
        .sidebar { width: 260px; background: #1e1e1e; padding: 20px; border-right: 1px solid #333; }
        .canvas-area { flex: 1; background: #0d0d0d; display: flex; justify-content: center; align-items: center; position: relative; }
        canvas { background: #000; border-radius: 10px; box-shadow: 0 0 20px rgba(0,0,0,0.5); }
        input, textarea { width: 100%; padding: 10px; margin-bottom: 10px; border-radius: 8px; border: none; background: #2a2a2a; color: white; box-sizing: border-box; }
        button { width: 100%; padding: 10px; border-radius: 8px; border: none; cursor: pointer; font-weight: bold; margin-bottom: 5px; }
        .primary { background: var(--accent); color: white; }
        .tool { background: #333; color: #ccc; }
        .tool.active { background: var(--accent); color: white; }
        #overlay { position: absolute; z-index: 10; background: rgba(30,30,30,0.9); padding: 30px; border-radius: 20px; }
    </style>
</head>
<body>
    <div class="tabs">
        <button class="tab active" onclick="switchTab('play')">ğŸ•¹ï¸ PLAY</button>
        <button class="tab" onclick="switchTab('edit')">ğŸ› ï¸ BUILD</button>
    </div>

    <div id="view-play" class="view active">
        <div id="overlay">
            <h2>Join Game</h2>
            <input id="username" placeholder="Name">
            <input id="roomName" placeholder="Room Title">
            <textarea id="mazeInput" placeholder="Paste code here..."></textarea>
            <button class="primary" onclick="hostMaze()">HOST ROOM</button>
            <div id="roomList"></div>
        </div>
        <div class="canvas-area"><canvas id="gameCanvas"></canvas></div>
    </div>

    <div id="view-edit" class="view">
        <div class="sidebar">
            <h3>Tools</h3>
            <button class="tool active" onclick="setTool('select', this)">ğŸ–±ï¸ SELECT</button>
            <button class="tool" onclick="setTool('delete', this)">ğŸ—‘ï¸ DELETE</button>
            <button class="tool" onclick="setTool('wall', this)">â–ˆ WALL</button>
            <button class="tool" onclick="setTool('door', this)">ğŸšª DOOR</button>
            <button class="tool" onclick="setTool('key', this)">ğŸ”‘ KEY</button>
            <button class="tool" onclick="setTool('start', this)">ğŸ  START</button>
            <hr>
            <h3>ğŸ¤– AI</h3>
            <textarea id="aiPrompt" placeholder="Describe: 'a spiral maze'"></textarea>
            <button class="primary" onclick="askAI()">GENERATE</button>
            <button class="primary" onclick="copyCode()" style="margin-top:20px">ğŸ“‹ COPY CODE</button>
        </div>
        <div class="canvas-area"><canvas id="editorCanvas"></canvas></div>
    </div>
    <script src="game.js"></script>
</body>
</html>
